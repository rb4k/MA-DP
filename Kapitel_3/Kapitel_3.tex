\chapter{Dynamische Programmierung bei auftragsbezogenen Instandhaltungsprozessen}
\markboth{3 Dynamische Programmierung bei auftragsbezogenen Instandhaltungsprozessen}{}
\setcounter{footnote}{7}

\section{Allgemeine Modellformulierung}
Im Folgenden wird das dynamisch, stochastische Grundmodell des RM nach \citeauthor{talluri2004revenue} (2004, S. 18-19) beschrieben. Ein Dienstleistungsnetzwerk eines Anbieters benötigt jeweils zur Erstellung einer Dienstleistung eine bestimmte Kombination an Ressourcen aus der Menge der Ressourcen $\mathcal{H} = \{1,...,l \}$. Der Index $h$ beschreibt dabei eine jeweilige Ressource und der Index $l$ die gesamte Anzahl an möglichen Ressourcen. Die jeweilig verbleibende Kapazität einer Ressource $h \in \mathcal{H}$ ist durch den Parameter $c_{h}$ beschrieben und die gesamten Kapazitäten der Ressourcen ist als Vektor $\textbf{c}=(c_{1},...,c_{h},...,c_{l})$ formuliert. Ein Produkt in dem Netzwerk ist durch den Parameter $j$ aus der Menge an Produkten $\mathcal{J} = \{1,...,n \}$ %für die Menge der Ressourcen $\mathcal{H}$
beschrieben. Die gesamte Anzahl an Produkten ist durch den Parameter $n$ definiert. Sobald ein Produkt $j\in \mathcal{J}$ abgesetzt ist, fällt für den Verkauf der Ertrag $r_{j}$ an. Der Buchungshorizont entspricht $T$ Perioden und kann jeweils in einzelne Perioden $t=1,...,T$ aufgeteilt werden. Dabei muss Beachtung finden, dass der Buchungshorizont $T$ gegenläufig verläuft. Die Wahrscheinlichkeit der Nachfrage eines Produkts $j$ in der Periode $t$ entspricht $p_{j}(t)$ und die Wahrscheinlichkeit, dass keine Nachfrage in der Periode $t$ eintrifft, entspricht $p_{0}(t)$. Es gilt $\sum_{j\in \mathcal{J}}p_{j}(t)+p_{0}(t)=1$ und somit kann $p_{0}(t)$ durch den Term $p_{0}(t)=1-\sum_{j\in \mathcal{J}}p_{j}(t)$ für die Periode $t$ ermittelt werden.\footnote{Vgl. \citeauthor{talluri2004revenue}, S. 18} Die noch erwartete Nachfrage $D_{jt}$ für ein bestimmtes Produkt $j$ für eine beliebige Periode $t$ lässt sich durch $\sum_{\tau=1}^{t}p_{j}(\tau)$ aggregieren.\\

Die bisherige Notation ist analog der Formulierung des Grundmodells nach \citeauthor{talluri2004revenue} (2004, S. 18-19). Nachfolgend wird die Modellerweiterung nach \cite{gonsch2013using} beschrieben. Sofern ein Anbieter opake Produkte in sein Produktportfolio integriert, muss die Menge $\mathcal{M}_{j}\subseteq\mathcal{I}$ eingeführt werden. Mit dieser Menge ist die Erfassung des differenzierten Ressoucenverbrauchs der spezifischen und opaken Produkte $j\in\mathcal{J}$ möglich. Sie ist eine Teilmenge der Indexmenge $\mathcal{I}\subseteq\mathbb{N}^{+}$, die alle produktspezifischen Kombinationen für die Menge der Ressourcen $\mathcal{H}$ beschreibt. Die Menge $\mathcal{I}$ beschreibt alle möglichen Kombinationen von Produkten und Ressourcen. Für das weitere Vorgehen genügt das Betrachten der jeweiligen möglichen Ausführungsmodi $\mathcal{M}_{j}$ eines Produkts $j\in\mathcal{J}$. Eine einzelne produktspezifische Kombination der verfügbaren Ressourcen ist durch den Parameter $m\in\mathcal{M}_{j}$ beschrieben. Der jeweilige Verbrauch einer Ressource $h$ im Ausführungsmodus $m$ durch Annahme einer Anfrage nach einem Produkt $j$ ist anhand des Parameters $a_{hm}$ beschrieben. Durch Vektorschreibweise kann der Ressourcenverbrauch einer produktspezifischen Kombination als $\textbf{a}_{m}=(a_{1m},...,a_{hm},...,a_{lm})$ formuliert werden. Die Tabelle \ref{Tabelle0} verdeutlicht den Zusammenhang der Produkte $j\in\mathcal{J}$ und der Ressourcen $h\in\mathcal{H}$ mit dem dazugehörigen produktspezifischen Ausführungsmodus $m\in\mathcal{M}_{j}$ in einer Matrix. \\

\begin{table}[h!]
 \renewcommand{\arraystretch}{1.5}
  \setlength{\tabcolsep}{4mm}
  \begin{center}
    \caption{Beispiel einer Produkt-Ressourcen-Matrix}  \label{Tabelle0}
    \vspace*{3mm}
    \begin{tabular}{c|c|c|c|c|c|c|c}   %hier die Spaltenausrichtung, -breite, -begrenzung und -anzahl eintragen
     \multirow{3}{*}{Produkt $j$} & \multicolumn{5}{c|}{Ressurcenverbrauch $a_{hm}$} & \multirow{3}{*}{Ausführungsmodus $m$} & \multirow{3}{*}{Erlös $r_{j}$}\\
           & \multicolumn{5}{c|}{für jeweilige Ressource $h$} &  & \\ 
           & $1$ & $2$ & $3$ & $4$ &$5$ &  \\ \hline
         
         \multirow{4}{*}{$1$}  & $a_{11}$ & -- & $a_{31}$ & $a_{41}$ & -- & 1 &  \multirow{4}{*}{$100$}  \\ %\cline{2-7}
                & \cellcolor[gray]{0.9}--& \cellcolor[gray]{0.9}$a_{22}$ & \cellcolor[gray]{0.9}$a_{32}$ & \cellcolor[gray]{0.9}$a_{42}$ & \cellcolor[gray]{0.9}--& \cellcolor[gray]{0.9}2 & \\ %\cline{2-7}
                & $a_{13}$& --& --& $a_{43}$ & --& 3 &   \\ %\cline{2-7}
          &\cellcolor[gray]{0.9}--& \cellcolor[gray]{0.9}$a_{24}$& \cellcolor[gray]{0.9}-- & $\cellcolor[gray]{0.9}a_{44}$ & \cellcolor[gray]{0.9}--& \cellcolor[gray]{0.9}4 &   \\ \hline
                              2  & $a_{15}$ &-- & -- &--& $a_{55}$ & 5 &  150 \\ \hline
    \end{tabular} \\[3mm]
  \end{center}
\end{table}

Das Beispiel in Tabelle \ref{Tabelle0} zeigt einen Reiseveranstalter mit fünf Ressourcen. Bei den ersten zwei Ressourcen handelt es sich um einen 1.-Klasse-Flug ($h=1$) und um einen 2.-Klasse-Flug ($h=2$). Bei der Ressource $3$ handelt es sich jeweils um eine mögliche Überführungsfahrt ($h=3$) zu einem Hotel am Strand ($h=4$). Bei der letzten Ressource handelt es sich um ein Business-Hotel direkt am Flughafen ($h=5$). Die verschiedenen Ressourcen sind in dem Beispiel unterschiedlich zu Produkten $j\in\mathcal{J}$ kombiniert. Dies könnte einerseits daran liegen, dass einige Kombinationen für einen Anbieter nicht rentabel sind oder andererseits keine Nachfrage erhalten. Damit zeigt die Produkt-Ressourcen-Matrix nicht alle möglichen Kombinationsmöglichkeiten $i\in\mathcal{I}$ für die Menge an Ressourcen $\mathcal{H}$. Die Matrix zeigt keinen Wert für den Ressourcenverbrauch an, sofern $a_{hm}=0$ entspricht. Damit wird zur Erstellung des Produkts $j$ in dem Ausführungsmodus $m$ die jeweilige Ressource $h$ nicht benötigt. In dem Beispiel ist das Produkt $j=1$ ein opakes Produkt mit den Ausführungsmodi $m\in\mathcal{M}_{1}=\{1,2,3,4\}$. Dies liegt an der frei gewählten Angebotsstruktur. Der Anbieter könnte jeden Ausführungsmodus $m\in\mathcal{M}_{j}$ für ein eigenständiges Produkt nutzen. Bspw. handelt es sich bei dem Produkt $j=2$ um ein spezifisches Produkt, das der Anbieter nur in einem Ausführungsmodus $m\in\mathcal{M}_{2}=\{5\}$ anbietet. Somit sind spezifische Produkte eines Netzwerks als Sonderfall von opaken Produkten anzusehen, die nur einen Ausführungsmodus aufweisen ($|\mathcal{M}_{j'}|=1$).\footnote{Vgl. \cite{gonsch2013using}, S. 96}\\

Mit den vorangegangenen Parametern kann der maximal erwartete Ertragswert $V(\textbf{c},t)$ für eine Periode $t$ bei einer noch vorhandenen Ressourcenkapazität $\textbf{c}$ als Bellman-Gleichung formuliert werden (\textbf{DP-op}):\footnote{Vgl. \cite{gonsch2013using}, S. 97}

\begin{equation}\label{DPop}
V(\textbf{c},t)=\sum_{j\in\mathcal{J}}p_{j}(t)\max\left( V(\textbf{c},t-1),\; r_{j}+\max_{m\in\mathcal{M}_{j}}V(\textbf{c}-\textbf{a}_{m},t-1)\right)+p_{0}(t)V(\textbf{c},t-1)
\end{equation}

Es handelt sich hier um die Modellformulierung der dynamischen Programmierung im RM opaker Produkte. Die Gleichung weist die Grenzbedingungen $V(\textbf{c},0)=0$ für $\textbf{c}\ge0$ sowie sonst $V(\textbf{c},0)=-\infty$ auf, da eine jeweilig verbleibende Kapazität nach Bereitstellung des Produkts wertlos und eine negative Ressourcenkapazität nicht möglich ist. Die Standardformulierung der dynamischen Programmierung wird mit dem Term $\max_{m\in\mathcal{M}_{j}}V(\textbf{c}-\textbf{a}_{m},t-1)$ erweitert. Damit ist sichergestellt, dass eine Anfrage nach einem opaken Produkt $j$ nur im Ausführungsmodus $m$ mit dem höchsten Ertragswert gewählt wird. Der Gesamtertrag des Anbieters ist maßgeblich durch die Entscheidung der gewählten Ausführungs\-modi $m\in\mathcal{M}_{j}$ abhängig, da das Modell durch eine jede Entscheidung bzgl. der weiteren möglichen opaken Produkte neu gelöst werden muss. Eine eintreffende Anfrage nach einem opaken Produkt $j$ ist demnach dann akzeptiert, wenn gilt:
\begin{equation}\label{r}
r_{j}\ge\min_{m\in\mathcal{M}_{j}}\bigl\{V(\textbf{c},t-1)-V(\textbf{c}-\textbf{a}_{m},t-1)\bigr\}
\end{equation}


Somit erfolgt die Akzeptanz einer Anfrage nach einem opaken Produkt $j\in\mathcal{J}$ ausschließlich nur dann, sofern die OK des Ressourcenverbrauchs niedriger als der Ertrag ist. Zusätzlich wird der Ausführungsmodus $m\in\mathcal{M}_{j}$ mit den niedrigsten OK gewählt, wodurch das Maximum des gesamten Ertragswerts gewährleistet bleibt. Ein potentieller Ausführungs\-modus $m^{*}$ mit minimalen OK ($V(\textbf{c},t-1)-V(\textbf{c}-\textbf{a}_{m^{*}},t-1)$) ist gewählt und die Kapazität werden dementsprechend reduziert. Bei spezifischen Produkten existiert nur ein Ausführungsmodus $|\mathcal{M}_{j'}|=1$ und daher ist die Maximalfunktion in der Gleichung \eqref{DPop} und die Minimalfunktion in der Gleichung \eqref{r} nicht notwendig.
\section{Spezifische Modellformulierung}